[![Review Assignment Due Date](https://classroom.github.com/assets/deadline-readme-button-22041afd0340ce965d47ae6ef1cefeee28c7c493a6346c4f15d667ab976d596c.svg)](https://classroom.github.com/a/vlo9idtn)
# lab1-wa2025

## Introduction
Within this project, you will find 3 folders:
- RouteGenerator, a web app to generate data for analysis, code provided for the lab by the instructor, no modifications have been made
- RouteAnalyzer, contains the code developed by group 09 for data processing.
- resources, a folder that contains input and output files for the "RouteAnalyzer" service.

## RouteAnalyzer
The project was developed using Kotlin, to run the code you need to have the Java and Kotlin JDK installed.
To run the code, you need to execute the command `./gradlew run` inside the RouteAnalyzer folder.\
An alternative is to run the code inside a Docker container, refer to the following sections for this.

## Docker
premise: RouteGenerator and its Dockerfile have not been modified, so they will not be covered in this section.

Two solutions are shown for using the project through Docker:
- Dockerfile
- docker-compose

### Dockerfile and usage, one for RouteGenerator and one for RouteAnalyzer
premise: the RouteGenerator README file contains the instructions for running the RouteGenerator service, here we will focus on the RouteAnalyzer service.

First, the Docker image must be built, to do this you need to run the command `docker build -t route-analyzer .` inside the RouteAnalyzer subfolder.
Once the image is built, you can run the container with the command `docker run route-analyzer` to use the input example file.
To use a different file, you can run the command ` docker run --mount type=bind,src=<host-path>,dst=<container-path> route-analyzer <input_path_file_name>`, otherwise you will not be able to insert a file.

The Dockerfile contains an entrypoint that runs the jar generated by Gradle, so it is not necessary to specify the command `jar` to run.\
The entrypoint is followed by a CMD, which specifies the command to run with a default args if no parameters are specified when running the container.\
By default, the input parameter is the 'waypoints.csv' file located in the resources folder of the container.
In this case, the output file will be saved in the "resources" folder.

### Alternative usage: Docker Compose, one for RouteGenerator and one for RouteAnalyzer
Docker Compose is a tool that allows you to define and manage multi-container applications.\
It can also be used to define and manage a single container, specifying some additional parameters compared to a simple Dockerfile.

To use Docker Compose, you need to run the command `docker-compose build` inside the RouteAnalyzer project folder to generate the containers.
To run the container, you need to run the command `docker-compose up`.

### Alternative usage: Docker Compose on root project folder
The Docker file inside the root folder extends the Dockerfile inside the RouteAnalyzer and RouteGenerator folders, so it is not necessary to build them separately.
To use Docker Compose, you need to run the command `docker-compose build` inside the root project folder to generate the containers.
To run the container, you need to run the command `docker-compose up`.
The difference is that you will do everything from the root folder, so you don't have to move between folders, and only two commands are needed to build and run the containers.

To run the container with a different input file, you can run the command `docker-compose run route-analyzer <input_path_file_name>`, otherwise you will not be able to insert a file.
Please note that the file must be located in the "resources" folder, otherwise you will not be able to see the file inside the container.
In this case, the ouptut file will be saved in the "resources" folder.
